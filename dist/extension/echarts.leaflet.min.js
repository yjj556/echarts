!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("echarts")):"function"==typeof define&&define.amd?define(["echarts"],t):"object"==typeof exports?exports["echarts.leaflet"]=t(require("echarts")):(e.echarts=e.echarts||{},e.echarts["echarts.leaflet"]=t(e.echarts))}(this,function(e){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){var n;n=function(e){return o(1).registerCoordinateSystem("leaflet",o(8)),o(9),o(10),o(1).registerAction({type:"leafletRoam",event:"leafletRoam",update:"updateLayout"},function(e,t){}),{version:"1.0.0"}}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))},function(t,o){t.exports=e},,,,,,,function(e,t,o){var n;n=function(e){function t(e,t){this._map=e,this.dimensions=["lat","lng"],this._mapOffset=[0,0],this._api=t}var n=o(1);return t.prototype.dimensions=["lat","lng"],t.prototype.setZoom=function(e){this._zoom=e},t.prototype.setCenter=function(e){var t=new L.latLng(e[1],e[0]);this._center=this._map.latLngToContainerPoint(t)},t.prototype.setMapOffset=function(e){this._mapOffset=e,console.log(e)},t.prototype.getMap=function(){return this._map},t.prototype.dataToPoint=function(e){var t=new L.latLng(e[1],e[0]),o=this._map.latLngToContainerPoint(t),n=[0,0];return[o.x-n[0],o.y-n[1]]},t.prototype.pointToData=function(e){var t=this._mapOffset,e=this._map.overlayPixelToPoint({x:e[0]-t[0],y:e[1]-t[1]});return[e.lng,e.lat]},t.prototype.getViewRect=function(){var e=this._api;return new n.graphic.BoundingRect(0,0,e.getWidth(),e.getHeight())},t.prototype.getRoamTransform=function(){return n.matrix.create()},t.dimensions=t.prototype.dimensions,t.create=function(e,o){var n,r=o.getDom();e.eachComponent("leaflet",function(e){var i=o.getZr().painter.getViewportRoot();if(o.getZr().painter.getRenderedCanvas().style.border="2px solid red","undefined"==typeof L)throw new Error("L api is not loaded");if(n)throw new Error("Only one leaflet component can exist");if(!e.__map){var a=r.querySelector(".ec-extension-leaflet");a&&(i.style.left="0px",i.style.top="0px",r.removeChild(a)),a=document.createElement("div"),a.style.cssText="width:100%;height:100%",a.classList.add("ec-extension-leaflet"),r.appendChild(a);var s=e.__map=new L.map(a,{attributionControl:!1,zoomControl:!1}),p=e.get("tile.url"),l=e.get("tile.subdomains");p&&l&&L.tileLayer(p,{subdomains:l}).addTo(s),i.style.zIndex=400,s.getPanes().overlayPane.appendChild(i)}var s=e.__map,f=e.get("center"),c=e.get("zoom");if(f&&c){var d=new L.latLng(f[1],f[0]);s.setView(d,c)}n=new t(s,o),n.setMapOffset(e.__mapOffset||[0,0]),n.setZoom(c),n.setCenter(f),e.coordinateSystem=n}),e.eachSeries(function(e){"leaflet"===e.get("coordinateSystem")&&(e.coordinateSystem=n)})},t}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,o){var n;n=function(e){function t(e,t){return e&&t&&e[0]===t[0]&&e[1]===t[1]}return o(1).extendComponentModel({type:"leaflet",getMap:function(){return this.__map},getOffset:function(){return this.coordinateSystem?this.coordinateSystem._mapOffset:[0,0]},setCenterAndZoom:function(e,t){this.option.center=e,this.option.zoom=t},centerOrZoomChanged:function(e,o){var n=this.option;return!(t(e,n.center)&&o===n.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:4}})}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))},function(e,t,o){var n;n=function(e){return o(1).extendComponentView({type:"leaflet",render:function(e,t,o){function n(){r||o.dispatchAction({type:"leafletRoam"})}var r=!0,i=e.getMap(),a=o.getZr().painter.getViewportRoot(),s=e.coordinateSystem,p=function(t,n){if(!r){var p=i._getMapPanePos(),l=[-parseInt(p.x)||0,-parseInt(p.y)||0];a.style.left=l[0]+"px",a.style.top=l[1]+"px",s.setMapOffset(l),e.__mapOffset=l,o.dispatchAction({type:"leafletRoam"})}};i.removeEventListener("move",this._oldMoveHandler),i.removeEventListener("zoomend",this._oldZoomEndHandler),i.addEventListener("move",p),i.addEventListener("zoomend",n),this._oldMoveHandler=p,this._oldZoomEndHandler=n,r=!1}})}.call(t,o,t,e),!(void 0!==n&&(e.exports=n))}])});